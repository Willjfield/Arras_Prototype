import{g as P,m}from"./maplibre-gl-DCtTgtxP.js";import{E as k,e as T,f as h,g as B,h as N,i as R,b as D,j as f,o as w,_ as J,c as O,w as b,r as y,a as _}from"./index-BG7K2Rhf.js";const x=8,S="Basic",z={"mapbox:autocomposite":!1,"mapbox:type":"template","maputnik:renderer":"mbgljs","openmaptiles:version":"3.x","openmaptiles:mapbox:owner":"openmaptiles","openmaptiles:mapbox:source:url":"mapbox://openmaptiles.4qljc88t"},C={openmaptiles:{type:"vector",url:"https://api.maptiler.com/tiles/v3/tiles.json?key=7SGo3nVkTl7JQ90xmJ0i	"},"tracts-2000":{type:"geojson",data:"/ChestLanTracts2000.geojson"},"tracts-2010":{type:"geojson",data:"/ChestLanTracts2010.geojson"},"tracts-2022":{type:"geojson",data:"/ChestLanTracts2022.geojson"}},L="https://api.maptiler.com/fonts/{fontstack}/{range}.pbf?key=7SGo3nVkTl7JQ90xmJ0i	",E=JSON.parse('[{"id":"background","type":"background","paint":{"background-color":"hsl(47, 26%, 88%)"}},{"id":"landuse-residential","type":"fill","source":"openmaptiles","source-layer":"landuse","filter":["all",["==","$type","Polygon"],["in","class","residential","suburb","neighbourhood"]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 13%, 86%)","fill-opacity":0.7}},{"id":"landcover_grass","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","class","grass"],"paint":{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":0.45}},{"id":"landcover_wood","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","class","wood"],"paint":{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":{"base":1,"stops":[[8,0.6],[22,1]]}}},{"id":"water","type":"fill","source":"openmaptiles","source-layer":"water","filter":["all",["==","$type","Polygon"],["!=","intermittent",1],["!=","brunnel","tunnel"]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(205, 56%, 73%)"}},{"id":"water_intermittent","type":"fill","source":"openmaptiles","source-layer":"water","filter":["all",["==","$type","Polygon"],["==","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(205, 56%, 73%)","fill-opacity":0.7}},{"id":"landcover-ice-shelf","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","subclass","ice_shelf"],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 26%, 88%)","fill-opacity":0.8}},{"id":"landcover-glacier","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","subclass","glacier"],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 22%, 94%)","fill-opacity":{"base":1,"stops":[[0,1],[8,0.5]]}}},{"id":"landcover_sand","type":"fill","metadata":{},"source":"openmaptiles","source-layer":"landcover","filter":["all",["in","class","sand"]],"paint":{"fill-antialias":false,"fill-color":"rgba(232, 214, 38, 1)","fill-opacity":0.3}},{"id":"landuse","type":"fill","source":"openmaptiles","source-layer":"landuse","filter":["==","class","agriculture"],"layout":{"visibility":"visible"},"paint":{"fill-color":"#eae0d0"}},{"id":"landuse_overlay_national_park","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","class","national_park"],"paint":{"fill-color":"#E1EBB0","fill-opacity":{"base":1,"stops":[[5,0],[9,0.75]]}}},{"id":"waterway-tunnel","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-dasharray":[3,3],"line-gap-width":{"stops":[[12,0],[20,6]]},"line-opacity":1,"line-width":{"base":1.4,"stops":[[8,1],[20,2]]}}},{"id":"waterway","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["!in","brunnel","tunnel","bridge"],["!=","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-opacity":1,"line-width":{"base":1.4,"stops":[[8,1],[20,8]]}}},{"id":"waterway_intermittent","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["!in","brunnel","tunnel","bridge"],["==","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-dasharray":[2,1],"line-opacity":1,"line-width":{"base":1.4,"stops":[[8,1],[20,8]]}}},{"id":"tunnel_railway_transit","type":"line","source":"openmaptiles","source-layer":"transportation","minzoom":0,"filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"],["==","class","transit"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"hsl(34, 12%, 66%)","line-dasharray":[3,3],"line-opacity":{"base":1,"stops":[[11,0],[16,1]]}}},{"id":"building","type":"fill","source":"openmaptiles","source-layer":"building","paint":{"fill-antialias":true,"fill-color":"rgba(222, 211, 190, 1)","fill-opacity":{"base":1,"stops":[[13,0],[15,1]]},"fill-outline-color":{"stops":[[15,"rgba(212, 177, 146, 0)"],[16,"rgba(212, 177, 146, 0.5)"]]}}},{"id":"housenumber","type":"symbol","source":"openmaptiles","source-layer":"housenumber","minzoom":17,"filter":["==","$type","Point"],"layout":{"text-field":"{housenumber}","text-font":["Noto Sans Regular"],"text-size":10},"paint":{"text-color":"rgba(212, 177, 146, 1)"}},{"id":"road_area_pier","type":"fill","metadata":{},"source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","Polygon"],["==","class","pier"]],"layout":{"visibility":"visible"},"paint":{"fill-antialias":true,"fill-color":"hsl(47, 26%, 88%)"}},{"id":"road_pier","type":"line","metadata":{},"source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","pier"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(47, 26%, 88%)","line-width":{"base":1.2,"stops":[[15,1],[17,4]]}}},{"id":"road_bridge_area","type":"fill","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","Polygon"],["in","brunnel","bridge"]],"layout":{},"paint":{"fill-color":"hsl(47, 26%, 88%)","fill-opacity":0.5}},{"id":"road_path","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","path","track"]],"layout":{"line-cap":"square","line-join":"bevel"},"paint":{"line-color":"hsl(0, 0%, 97%)","line-dasharray":[1,1],"line-width":{"base":1.55,"stops":[[4,0.25],[20,10]]}}},{"id":"road_minor","type":"line","source":"openmaptiles","source-layer":"transportation","minzoom":13,"filter":["all",["==","$type","LineString"],["in","class","minor","service"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 97%)","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"tunnel_minor","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"],["==","class","minor_road"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#efefef","line-dasharray":[0.36,0.18],"line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"tunnel_major","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"],["in","class","primary","secondary","tertiary","trunk"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#fff","line-dasharray":[0.28,0.14],"line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}}},{"id":"aeroway-area","type":"fill","metadata":{"mapbox:group":"1444849345966.4436"},"source":"openmaptiles","source-layer":"aeroway","minzoom":4,"filter":["all",["==","$type","Polygon"],["in","class","runway","taxiway"]],"layout":{"visibility":"visible"},"paint":{"fill-color":"rgba(255, 255, 255, 1)","fill-opacity":{"base":1,"stops":[[13,0],[14,1]]}}},{"id":"aeroway-taxiway","type":"line","metadata":{"mapbox:group":"1444849345966.4436"},"source":"openmaptiles","source-layer":"aeroway","minzoom":12,"filter":["all",["in","class","taxiway"],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round","visibility":"visible"},"paint":{"line-color":"rgba(255, 255, 255, 1)","line-opacity":1,"line-width":{"base":1.5,"stops":[[12,1],[17,10]]}}},{"id":"aeroway-runway","type":"line","metadata":{"mapbox:group":"1444849345966.4436"},"source":"openmaptiles","source-layer":"aeroway","minzoom":4,"filter":["all",["in","class","runway"],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round","visibility":"visible"},"paint":{"line-color":"rgba(255, 255, 255, 1)","line-opacity":1,"line-width":{"base":1.5,"stops":[[11,4],[17,50]]}}},{"id":"road_trunk_primary","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","trunk","primary"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}}},{"id":"road_secondary_tertiary","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","secondary","tertiary"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,20]]}}},{"id":"road_major_motorway","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","class","motorway"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 100%)","line-offset":0,"line-width":{"base":1.4,"stops":[[8,1],[16,10]]}}},{"id":"railway-transit","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","class","transit"],["!=","brunnel","tunnel"]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(34, 12%, 66%)","line-opacity":{"base":1,"stops":[[11,0],[16,1]]}}},{"id":"railway","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["==","class","rail"],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(34, 12%, 66%)","line-opacity":{"base":1,"stops":[[11,0],[16,1]]}}},{"id":"waterway-bridge-case","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#bbbbbb","line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]}}},{"id":"waterway-bridge","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"bridge_minor case","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["==","class","minor_road"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#dedede","line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]}}},{"id":"bridge_major case","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","secondary","tertiary","trunk"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#dedede","line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]}}},{"id":"bridge_minor","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["==","class","minor_road"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#efefef","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"bridge_major","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","secondary","tertiary","trunk"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}}},{"id":"admin_sub","type":"line","source":"openmaptiles","source-layer":"boundary","filter":["in","admin_level",4,6,8],"layout":{"visibility":"visible"},"paint":{"line-color":"hsla(0, 0%, 60%, 0.5)","line-dasharray":[2,1]}},{"id":"admin_country_z0-4","type":"line","source":"openmaptiles","source-layer":"boundary","minzoom":0,"maxzoom":5,"filter":["all",["<=","admin_level",2],["==","$type","LineString"],["!has","claimed_by"]],"layout":{"line-cap":"round","line-join":"round","visibility":"visible"},"paint":{"line-color":"hsl(0, 0%, 60%)","line-width":{"base":1.3,"stops":[[3,0.5],[22,15]]}}},{"id":"admin_country_z5-","type":"line","source":"openmaptiles","source-layer":"boundary","minzoom":5,"filter":["all",["<=","admin_level",2],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round","visibility":"visible"},"paint":{"line-color":"hsl(0, 0%, 60%)","line-width":{"base":1.3,"stops":[[3,0.5],[22,15]]}}},{"id":"poi_label","type":"symbol","source":"openmaptiles","source-layer":"poi","minzoom":14,"filter":["all",["==","$type","Point"],["==","rank",1]],"layout":{"icon-size":1,"text-anchor":"top","text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":8,"text-offset":[0,0.5],"text-size":11,"visibility":"visible"},"paint":{"text-color":"#666","text-halo-blur":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1}},{"id":"airport-label","type":"symbol","source":"openmaptiles","source-layer":"aerodrome_label","minzoom":10,"filter":["all",["has","iata"]],"layout":{"icon-size":1,"text-anchor":"top","text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":8,"text-offset":[0,0.5],"text-size":11,"visibility":"visible"},"paint":{"text-color":"#666","text-halo-blur":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1}},{"id":"road_major_label","type":"symbol","source":"openmaptiles","source-layer":"transportation_name","minzoom":13,"filter":["==","$type","LineString"],"layout":{"symbol-placement":"line","text-field":"{name:latin} {name:nonlatin}","text-font":["Noto Sans Regular"],"text-letter-spacing":0.1,"text-rotation-alignment":"map","text-size":{"base":1.4,"stops":[[10,8],[20,14]]},"text-transform":"uppercase","visibility":"visible"},"paint":{"text-color":"#000","text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":2}},{"id":"place_label_other","type":"symbol","source":"openmaptiles","source-layer":"place","minzoom":8,"filter":["all",["==","$type","Point"],["!in","class","city","state","country","continent"]],"layout":{"text-anchor":"center","text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":6,"text-size":{"stops":[[6,10],[12,14]]},"visibility":"visible"},"paint":{"text-color":"hsl(0, 0%, 25%)","text-halo-blur":0,"text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":2}},{"id":"place_label_city","type":"symbol","source":"openmaptiles","source-layer":"place","maxzoom":16,"filter":["all",["==","$type","Point"],["==","class","city"]],"layout":{"text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,16]]}},"paint":{"text-color":"hsl(0, 0%, 0%)","text-halo-blur":0,"text-halo-color":"hsla(0, 0%, 100%, 0.75)","text-halo-width":2}},{"id":"country_label-other","type":"symbol","source":"openmaptiles","source-layer":"place","maxzoom":12,"filter":["all",["==","$type","Point"],["==","class","country"],["!has","iso_a2"]],"layout":{"text-field":"{name:latin}","text-font":["Noto Sans Regular"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,22]]},"visibility":"visible"},"paint":{"text-color":"hsl(0, 0%, 13%)","text-halo-blur":0,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2}},{"id":"country_label","type":"symbol","source":"openmaptiles","source-layer":"place","maxzoom":12,"filter":["all",["==","$type","Point"],["==","class","country"],["has","iso_a2"]],"layout":{"text-field":"{name:latin}","text-font":["Noto Sans Bold"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,22]]},"visibility":"visible"},"paint":{"text-color":"hsl(0, 0%, 13%)","text-halo-blur":0,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2}},{"id":"tracts-2000-fill","type":"fill","source":"tracts-2000","layout":{"visibility":"visible"},"paint":{"fill-color":["step",["to-number",["get","Percent of Population 25 Years and Over whose Highest Education Completed is Less Than High School"]],"#f2f0f7",5,"#cbc9e2",10,"#9e9ac8",15,"#756bb1",20,"#54278f"],"fill-opacity":0.65,"fill-outline-color":"#888888"}},{"id":"tracts-2010-fill","type":"fill","source":"tracts-2010","layout":{"visibility":"visible"},"paint":{"fill-color":["step",["to-number",["get","Percent of Population 25 Years and Over whose Highest Education Completed is Less Than High School"]],"#f7fbff",5,"#c6dbef",10,"#6baed6",15,"#3182bd",20,"#08519c"],"fill-opacity":0.65,"fill-outline-color":"#888888"}},{"id":"tracts-2022-fill","type":"fill","source":"tracts-2022","layout":{"visibility":"visible"},"paint":{"fill-color":["step",["to-number",["get","Percent of Total Youth who are Disconnected (not in school & not in labor force)"]],"#f7fcf5",5,"#c7e9c0",10,"#74c476",20,"#31a354",30,"#006d2c"],"fill-opacity":0.65,"fill-outline-color":"#888888"}}]'),M="basic",q={version:x,name:S,metadata:z,sources:C,glyphs:L,layers:E,id:M},v=Object.freeze(Object.defineProperty({__proto__:null,default:q,glyphs:L,id:M,layers:E,metadata:z,name:S,sources:C,version:x},Symbol.toStringTag,{value:"Module"}));var d,g;function A(){if(g)return d;g=1;function e(i,a){var n=i.getCenter(),l=i.getZoom(),p=i.getBearing(),r=i.getPitch();a.forEach(function(c){c.jumpTo({center:n,zoom:l,bearing:p,pitch:r})})}function t(){var i,a=arguments.length;if(a===1)i=arguments[0];else{i=[];for(var n=0;n<a;n++)i.push(arguments[n])}var l=[];i.forEach(function(s,o){l[o]=c.bind(null,s,i.filter(function(u,j){return j!==o}))});function p(){i.forEach(function(s,o){s.on("move",l[o])})}function r(){i.forEach(function(s,o){s.off("move",l[o])})}function c(s,o){r(),e(s,o),p()}return p(),function(){r(),l=[],i=[]}}return d=t,d}var G=A();const U=P(G);function $(e,t,i,a){if(this.options=a||{},this._mapA=e,this._mapB=t,this._horizontal=this.options.orientation==="horizontal",this._onDown=this._onDown.bind(this),this._onMove=this._onMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._ev=new k,this._swiper=document.createElement("div"),this._swiper.className=this._horizontal?"compare-swiper-horizontal":"compare-swiper-vertical",this._controlContainer=document.createElement("div"),this._controlContainer.className=this._horizontal?"maplibregl-compare maplibregl-compare-horizontal":"maplibregl-compare",this._controlContainer.className=this._controlContainer.className,this._controlContainer.append(this._swiper),typeof i=="string"&&document.body.querySelectorAll){let l=document.body.querySelectorAll(i)[0];if(!l)throw new Error("Cannot find element with specified container selector.");l.append(this._controlContainer)}else if(i instanceof Element&&i.appendChild)i.append(this._controlContainer);else throw new Error("Invalid container specified. Must be CSS selector or HTML element.");this._bounds=t.getContainer().getBoundingClientRect();let n=(this._horizontal?this._bounds.height:this._bounds.width)/2;this._setPosition(n),this._clearSync=U(e,t),this._onResize=(function(){this._bounds=e.getContainer().getBoundingClientRect()}).bind(this),t.on("resize",this._onResize),this.switchType(this?.options?.type||"slider",e,t)}$.prototype={_setPointerEvents(e){this._controlContainer.style.pointerEvents=e,this._swiper.style.pointerEvents=e},_onDown(e){e.touches?(document.addEventListener("touchmove",this._onMove),document.addEventListener("touchend",this._onTouchEnd)):(document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onMouseUp))},_setPosition(e){e=Math.min(e,this._horizontal?this._bounds.height:this._bounds.width);let t=this._horizontal?"translate(0, "+e+"px)":"translate("+e+"px, 0)";this._controlContainer.style.transform=t,this._controlContainer.style.WebkitTransform=t;let i=this._horizontal?"rect(0, 999em, "+e+"px, 0)":"rect(0, "+e+"px, "+this._bounds.height+"px, 0)",a=this._horizontal?"rect("+e+"px, 999em, "+this._bounds.height+"px,0)":"rect(0, 999em, "+this._bounds.height+"px,"+e+"px)";this._mapA.getContainer().style.clip=i,this._mapB.getContainer().style.clip=a,this.currentPosition=e},_onMove(e){console.log("on move"),this.options&&this.options.mousemove&&this._setPointerEvents(e.touches?"auto":"none"),this._horizontal?this._setPosition(this._getY(e)):this._setPosition(this._getX(e))},_onMouseUp(){document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onMouseUp),this.fire("slideend",{currentPosition:this.currentPosition})},_onTouchEnd(){document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onTouchEnd),this.fire("slideend",{currentPosition:this.currentPosition})},_getX(e){e=e.touches?e.touches[0]:e;let t=e.clientX-this._bounds.left;return t<0&&(t=0),t>this._bounds.width&&(t=this._bounds.width),t},_getY(e){e=e.touches?e.touches[0]:e;let t=e.clientY-this._bounds.top;return t<0&&(t=0),t>this._bounds.height&&(t=this._bounds.height),t},switchType(e="slider"){const t=this._mapA,i=this._mapB;let a=(this._horizontal?this._bounds.height:this._bounds.width)/2;this._setPosition(a),e==="sideBySide"?(t.getContainer().style.clip=null,i.getContainer().style.clip="unset",i.getContainer().style.transform="translateX(50%)",this._controlContainer.style.display="none",this.options&&this.options.mousemove&&(t.getContainer().removeEventListener("mousemove",this._onMove),i.getContainer().removeEventListener("mousemove",this._onMove)),this._swiper.removeEventListener("mousedown",this._onDown),this._swiper.removeEventListener("touchstart",this._onDown)):(this._controlContainer.style.display="inline-block",i.getContainer().style.left="-12px",i.getContainer().style.transform="none",this.options&&this.options.mousemove&&(t.getContainer().addEventListener("mousemove",this._onMove),i.getContainer().addEventListener("mousemove",this._onMove)),this._swiper.addEventListener("mousedown",this._onDown),this._swiper.addEventListener("touchstart",this._onDown))},setSlider(e){this._setPosition(e)},on(e,t){return this._ev.on(e,t),this},fire(e,t){return this._ev.emit(e,t),this},off(e,t){return this._ev.removeListener(e,t),this},remove(){this._clearSync(),this._mapB.off("resize",this._onResize);let e=this._mapA.getContainer();e&&(e.style.clip=null,e.removeEventListener("mousemove",this._onMove));let t=this._mapB.getContainer();t&&(t.style.clip=null,t.removeEventListener("mousemove",this._onMove)),this._swiper.removeEventListener("mousedown",this._onDown),this._swiper.removeEventListener("touchstart",this._onDown),this._controlContainer.remove()}};const Y={id:"comparison-container"},H="#comparison-container",V=T({__name:"ComparisonMap",props:{_center:{},_zoom:{},_type:{}},setup(e){const t=h();let i=null;const a=h();let n=null;const l=e,p=JSON.parse(JSON.stringify(v)),r=p.layers.find(o=>o.id==="tracts-2022-fill");r&&r.layout&&(r.layout.visibility="none");const c=JSON.parse(JSON.stringify(v));let s=null;return B(()=>l._type,(o,u)=>{console.log(`Type changed from ${u} to ${o}`),s&&s.switchType(o)}),N(()=>{console.log("mnt"),t.value&&(i=new m.Map({container:t.value,style:p,center:l._center,zoom:l._zoom}),i.on("mousemove",o=>{!i||i.queryRenderedFeatures(o.point,{}).length})),a.value&&(n=new m.Map({container:a.value,style:c,center:l._center,zoom:l._zoom}),n.on("mousemove",o=>{if(!n)return;const u=n.queryRenderedFeatures(o.point,{});u.length!==0&&console.log(u[0]?.properties)})),i&&n&&(s=new $(i,n,H,{type:l._type}))}),R(()=>{i&&i.remove(),n&&n.remove()}),(o,u)=>(w(),D("div",Y,[f("div",{ref_key:"mapContainerLeft",ref:t,class:"map-container"},null,512),f("div",{ref_key:"mapContainerRight",ref:a,class:"map-container"},null,512)]))}}),X={name:"Map",components:{ComparisonMap:V},data(){return{}},watch:{},mounted(){},methods:{}};function F(e,t,i,a,n,l){const p=y("ComparisonMap"),r=y("v-container"),c=y("v-main");return w(),O(c,{class:"d-flex align-center justify-center",style:{}},{default:b(()=>[_(r,null,{default:b(()=>[_(p,{_center:[-80.537,34.7963],_zoom:9.57,_type:"sideBySide"})]),_:1})]),_:1})}const W=J(X,[["render",F]]);export{W as default};
