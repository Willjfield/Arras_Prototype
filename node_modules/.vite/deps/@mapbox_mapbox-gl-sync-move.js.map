{
  "version": 3,
  "sources": ["../../@mapbox/mapbox-gl-sync-move/index.js"],
  "sourcesContent": ["function moveToMapPosition (master, clones) {\n  var center = master.getCenter();\n  var zoom = master.getZoom();\n  var bearing = master.getBearing();\n  var pitch = master.getPitch();\n\n  clones.forEach(function (clone) {\n    clone.jumpTo({\n      center: center,\n      zoom: zoom,\n      bearing: bearing,\n      pitch: pitch\n    });\n  });\n}\n\n// Sync movements of two maps.\n//\n// All interactions that result in movement end up firing\n// a \"move\" event. The trick here, though, is to\n// ensure that movements don't cycle from one map\n// to the other and back again, because such a cycle\n// - could cause an infinite loop\n// - prematurely halts prolonged movements like\n//   double-click zooming, box-zooming, and flying\nfunction syncMaps () {\n  var maps;\n  var argLen = arguments.length;\n  if (argLen === 1) {\n    maps = arguments[0];\n  } else {\n    maps = [];\n    for (var i = 0; i < argLen; i++) {\n      maps.push(arguments[i]);\n    }\n  }\n\n  // Create all the movement functions, because if they're created every time\n  // they wouldn't be the same and couldn't be removed.\n  var fns = [];\n  maps.forEach(function (map, index) {\n    fns[index] = sync.bind(null, map, maps.filter(function (o, i) { return i !== index; }));\n  });\n\n  function on () {\n    maps.forEach(function (map, index) {\n      map.on('move', fns[index]);\n    });\n  }\n\n  function off () {\n    maps.forEach(function (map, index) {\n      map.off('move', fns[index]);\n    });\n  }\n\n  // When one map moves, we turn off the movement listeners\n  // on all the maps, move it, then turn the listeners on again\n  function sync (master, clones) {\n    off();\n    moveToMapPosition(master, clones);\n    on();\n  }\n\n  on();\n  return function(){  off(); fns = []; maps = []; };\n}\n\nmodule.exports = syncMaps;\n"],
  "mappings": ";;;;;AAAA;AAAA;AAAA,aAAS,kBAAmB,QAAQ,QAAQ;AAC1C,UAAI,SAAS,OAAO,UAAU;AAC9B,UAAI,OAAO,OAAO,QAAQ;AAC1B,UAAI,UAAU,OAAO,WAAW;AAChC,UAAI,QAAQ,OAAO,SAAS;AAE5B,aAAO,QAAQ,SAAU,OAAO;AAC9B,cAAM,OAAO;AAAA,UACX;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACF,CAAC;AAAA,MACH,CAAC;AAAA,IACH;AAWA,aAAS,WAAY;AACnB,UAAI;AACJ,UAAI,SAAS,UAAU;AACvB,UAAI,WAAW,GAAG;AAChB,eAAO,UAAU,CAAC;AAAA,MACpB,OAAO;AACL,eAAO,CAAC;AACR,iBAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,eAAK,KAAK,UAAU,CAAC,CAAC;AAAA,QACxB;AAAA,MACF;AAIA,UAAI,MAAM,CAAC;AACX,WAAK,QAAQ,SAAU,KAAK,OAAO;AACjC,YAAI,KAAK,IAAI,KAAK,KAAK,MAAM,KAAK,KAAK,OAAO,SAAU,GAAGA,IAAG;AAAE,iBAAOA,OAAM;AAAA,QAAO,CAAC,CAAC;AAAA,MACxF,CAAC;AAED,eAAS,KAAM;AACb,aAAK,QAAQ,SAAU,KAAK,OAAO;AACjC,cAAI,GAAG,QAAQ,IAAI,KAAK,CAAC;AAAA,QAC3B,CAAC;AAAA,MACH;AAEA,eAAS,MAAO;AACd,aAAK,QAAQ,SAAU,KAAK,OAAO;AACjC,cAAI,IAAI,QAAQ,IAAI,KAAK,CAAC;AAAA,QAC5B,CAAC;AAAA,MACH;AAIA,eAAS,KAAM,QAAQ,QAAQ;AAC7B,YAAI;AACJ,0BAAkB,QAAQ,MAAM;AAChC,WAAG;AAAA,MACL;AAEA,SAAG;AACH,aAAO,WAAU;AAAG,YAAI;AAAG,cAAM,CAAC;AAAG,eAAO,CAAC;AAAA,MAAG;AAAA,IAClD;AAEA,WAAO,UAAU;AAAA;AAAA;",
  "names": ["i"]
}
